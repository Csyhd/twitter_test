(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fb5eca0"],{"0a4e":function(t,e,a){"use strict";a("0eda")},"0eda":function(t,e,a){},4292:function(t,e,a){"use strict";a("7db5")},"4ef5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting"},[a("NavBar"),a("div",{staticClass:"setting-form"},[a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",[t._v("帳戶設定")]),a("div",{staticClass:"form-label-group mb-2"},[a("label",{attrs:{for:"account"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",placeholder:"帳號",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),a("div",{staticClass:"form-label-group mb-2"},[a("label",{attrs:{for:"name"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",placeholder:"name",autocomplete:"名稱",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-label-group mb-2"},[a("label",{attrs:{for:"email"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"Email",autocomplete:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-label-group mb-3"},[a("label",{attrs:{for:"password"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"密碼",autocomplete:"new-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-label-group mb-3"},[a("label",{attrs:{for:"password-check"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],staticClass:"form-control",attrs:{id:"password-check",name:"checkPassword",type:"password",placeholder:"密碼確認",autocomplete:"new-password"},domProps:{value:t.checkPassword},on:{input:function(e){e.target.composing||(t.checkPassword=e.target.value)}}})]),t._m(0)])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buttonStyle"},[a("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3 mt-4",attrs:{type:"submit"}},[t._v(" 儲存 ")])])}],n=a("1da1"),o=a("5530"),i=(a("96cf"),a("b0c0"),a("d178")),c=a("2f62"),l=a("2fa3"),u=a("1602"),m={components:{NavBar:i["a"]},data:function(){return{account:"",name:"",email:"",checkPassword:"",password:"",id:""}},computed:Object(o["a"])({},Object(c["b"])(["currentUser"])),created:function(){this.fetchCurrentUser()},methods:{fetchCurrentUser:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].userEdit.getSetting(t.currentUser.id);case 3:a=e.sent,s=a.data,console.log(s),r=s.name,n=s.email,o=s.account,i=s.id,t.account=o,t.name=r,t.email=n,t.id=i,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),l["a"].fire({icon:"error",title:"獲取資料失敗,請稍後再試"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},handleSubmit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,s=t.target,r=new FormData(s),a.next=5,u["a"].userEdit.editSetting({id:e.id,formData:r});case 5:if(n=a.sent,o=n.data,"success"===o.status){a.next=9;break}throw new Error(o.message);case 9:e.fetchCurrentUser(),l["a"].fire({icon:"success",title:"儲存成功"}),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),l["a"].fire({icon:"error",title:"暫時無法修改資料,請稍後再試"});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()}}},d=m,p=(a("4292"),a("2877")),v=Object(p["a"])(d,s,r,!1,null,"2444da62",null);e["default"]=v.exports},"7db5":function(t,e,a){},d178:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav-bar"},[s("div",{staticClass:"mt-3"},[s("router-link",{staticClass:"nav-logo",attrs:{to:{name:"tweets-main"}}},[s("img",{attrs:{src:a("0eb7"),alt:""}})]),s("ul",{staticClass:"nav-list"},[s("li",{staticClass:"nav-item nav-home"},[s("router-link",{attrs:{to:{name:"tweets-main"}}},[s("i",{staticClass:"nav-icon fas fa-home"}),s("p",[t._v("首頁")])])],1),s("li",{staticClass:"nav-item nav-profile"},[s("router-link",{attrs:{to:{name:"user-profile-tweet",params:{id:t.currentUser.id}}}},[s("i",{staticClass:"nav-icon fas fa-user-alt"}),s("p",[t._v("個人資料")])])],1),s("li",{staticClass:"nav-item nav-setting"},[s("router-link",{attrs:{to:{name:"setting"}}},[s("i",{staticClass:"nav-icon fas fa-cog"}),s("p",[t._v("設定")])])],1),s("li",[s("button",{staticClass:"nav-teweet-button button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addPost(e)}}},[t._v(" 推文 ")])])]),s("router-link",{staticClass:"nav-item nav-sign-out",attrs:{to:{name:"login"}}},[s("i",{staticClass:"nav-icon fas fa-sign-out-alt",on:{click:t.logout}}),s("p",{on:{click:t.logout}},[t._v("登出")])])],1)])},r=[],n=a("5530"),o=a("2f62"),i={data:function(){return{showModal:"post"}},computed:Object(n["a"])({},Object(o["b"])(["currentUser","isAuthenticated"])),methods:{addPost:function(){this.showModal="post",this.$emit("show-post-modal",this.showModal)},logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}},c=i,l=(a("0a4e"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"19a7c5f0",null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-8fb5eca0.f29608d5.js.map