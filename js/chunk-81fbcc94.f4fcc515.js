(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81fbcc94"],{"0a4e":function(t,e,s){"use strict";s("0eda")},"0eda":function(t,e,s){},"14c1":function(t,e,s){t.exports=s.p+"img/email.93179cc9.svg"},"20ac":function(t,e,s){"use strict";s("63fe")},"3a4d":function(t,e,s){"use strict";s("67d1")},"475f":function(t,e,s){t.exports=s.p+"img/bell.a2ec20b8.svg"},"5a38":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follower-page"},[s("NavBar"),s("div",{staticClass:"follower-container"},[s("UserProfileCard",{attrs:{info:t.info}}),s("UserProfileTweet",{attrs:{info:t.info}})],1),s("RecommendUsers")],1)},r=[],n=s("1da1"),i=(s("96cf"),s("88fd")),o=s("d178"),c=s("7950"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tweet-card"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"top-right"},[t.currentUser.id===t.info.id?a("div",{staticClass:"editorMode"},[a("button",{staticClass:"edit-button"},[t._v("編輯個人檔案")])]):a("div",{staticClass:"nonEditorMode"},[t._m(0),t._m(1),a("div",{staticClass:"user-button"},[t.isFollowing?a("button",{staticClass:"followers-item-button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowing(t.info.id)}}},[t._v(" 正在跟隨 ")]):a("button",{staticClass:"followers-item-button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(t.info.id)}}},[t._v(" 跟隨 ")])])])]),a("div",{staticClass:"nav-tabs"},[a("div",{staticClass:"nav-tab nav-active"},[a("router-link",{attrs:{to:{name:"user-profile-tweet",params:{id:t.info.id}}}},[t._v("推文")])],1),a("div",{staticClass:"nav-tab"},[a("router-link",{attrs:{to:{name:"user-profile-reply",params:{id:t.info.id}}}},[t._v("推文與回覆")])],1),a("div",{staticClass:"nav-tab"},[a("router-link",{attrs:{to:{name:"user-profile-like",params:{id:t.info.id}}}},[t._v(" 喜歡的內容 ")])],1)])]),t._l(t.users,(function(e){return a("div",{key:e.id,staticClass:"tweet-list"},[a("a",{staticClass:"tweet-avatar",attrs:{href:""}},[a("img",{attrs:{src:t.info.avatar,alt:"avatar"}})]),a("div",{staticClass:"tweet-content"},[a("a",{staticClass:"tweet-title",attrs:{href:""}},[a("p",{staticClass:"tweet-name"},[t._v(t._s(t.info.name))]),a("p",{staticClass:"tweet-id"},[t._v(t._s(t.info.account))]),a("span",{staticClass:"dot"}),a("p",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),a("div",{staticClass:"tweet-text"},[a("p",[t._v(" "+t._s(e.description)+" ")])]),a("div",{staticClass:"tweet-activity"},[a("a",{staticClass:"tweet-comment",attrs:{href:"#"}},[a("img",{staticClass:"icon",attrs:{src:s("6edd"),alt:"comments"}}),a("span",[t._v(t._s(e.Replies.length))])]),a("a",{staticClass:"tweet-like",attrs:{href:"#"}},[a("img",{staticClass:"icon",attrs:{src:s("9291"),alt:"likes"}}),a("span",[t._v(t._s(e.Likes.length))])])])])])}))],2)},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"email"},[a("img",{attrs:{src:s("14c1"),alt:"email"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bell"},[a("img",{attrs:{src:s("475f"),alt:"bell"}})])}],d=s("5530"),f=s("1602"),v=s("2fa3"),m=s("2708"),p=s("2f62"),w={data:function(){return{users:[],id:-1,isFollowing:!1}},props:{info:{type:Object,required:!0}},computed:Object(d["a"])({},Object(p["b"])(["currentUser","isAuthenticated"])),created:function(){var t=this.$route.params.id;this.fetchUsers(t)},methods:{fetchUsers:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,f["a"].getTweet({id:t});case 3:if(a=s.sent,"OK"===a.statusText){s.next=6;break}throw new Error(a.statusText);case 6:e.users=a.data,console.log(a),s.next=14;break;case 10:s.prev=10,s.t0=s["catch"](0),v["a"].fire({icon:"error",title:"無法取得使用者頁面，請稍後再試"}),console.log(s.t0);case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))()},deleteFollowing:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f["a"].deleteFollowing({infoID:t});case 3:if(s=e.sent,a=s.data,"success"===a.status){e.next=7;break}throw new Error(a.message);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),v["a"].fire({icon:"error",title:"暫時無法取消追隨,請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},addFollowing:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f["a"].addFollowing({id:t});case 3:if(s=e.sent,a=s.data,"success"===a.status){e.next=7;break}throw new Error(a.message);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),v["a"].fire({icon:"error",title:"暫時無法追隨,請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},mixins:[m["c"],m["a"]]},g=w,h=(s("3a4d"),s("2877")),C=Object(h["a"])(g,l,u,!1,null,"66749263",null),_=C.exports,b={data:function(){return{info:[]}},components:{RecommendUsers:i["a"],NavBar:o["a"],UserProfileCard:c["a"],UserProfileTweet:_},created:function(){var t=this.$route.params.id;this.fetchUsers(t)},beforeRouteUpdate:function(t,e,s){var a=t.params.id;this.fetchUsers(a),s()},methods:{fetchUsers:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,f["a"].user.get({id:t});case 3:if(a=s.sent,console.log(a),"OK"===a.statusText){s.next=7;break}throw new Error(a.statusText);case 7:e.info=a.data,s.next=14;break;case 10:s.prev=10,s.t0=s["catch"](0),v["a"].fire({icon:"error",title:"無法取得Followers，請稍後再試"}),console.log(s.t0);case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))()}}},k=b,x=(s("668e"),Object(h["a"])(k,a,r,!1,null,"0025239e",null));e["default"]=x.exports},"5ce0":function(t,e,s){},"63fe":function(t,e,s){},"668e":function(t,e,s){"use strict";s("a7bd")},"67d1":function(t,e,s){},"6edd":function(t,e,s){t.exports=s.p+"img/commentIcon.17ee81ba.svg"},7519:function(t,e,s){t.exports=s.p+"img/Vector.59e5a2e5.svg"},7950:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"top-bar"},[a("div",{staticClass:"arrow-left"},[a("router-link",{attrs:{to:{name:"tweets-main"}}},[a("img",{attrs:{src:s("7519"),alt:"vector"}})])],1),a("p",{staticClass:"name"},[t._v(t._s(t.info.name))]),a("p",{staticClass:"tweets"},[t._v(t._s(t.info.Tweets.length)+" 推文")])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"user-card"},[a("div",{staticClass:"user-pic"},[a("img",{staticClass:"user-cover",attrs:{src:t.info.cover,alt:"cover"}}),a("a",{staticClass:"user-avatar",attrs:{href:"#"}},[a("img",{attrs:{src:t._f("emptyImage")(t.info.avatar),alt:"avatar"}})])]),a("div",{staticClass:"user-content"},[a("a",{attrs:{href:"#"}},[a("div",{staticClass:"user-name"},[t._v(t._s(t.info.name))]),a("div",{staticClass:"user-id"},[t._v(t._s(t.info.account))]),a("div",{staticClass:"user-introduction"},[t._v(t._s(t.info.introduction))])]),a("div",{staticClass:"user-follow"},[a("router-link",{attrs:{to:{name:"user-following",params:{id:t.info.id}}}},[a("span",[t._v(t._s(t.info.Followings.length)+"個")]),t._v("跟隨中 ")]),a("router-link",{attrs:{to:{name:"user-follower",params:{id:t.info.id}}}},[a("span",[t._v(t._s(t.info.Followers.length)+"位")]),t._v("跟隨者 ")])],1)])])])])},r=[],n={props:{info:{type:Object,required:!0}},data:function(){return{user:this.info}}},i=n,o=(s("e571"),s("2877")),c=Object(o["a"])(i,a,r,!1,null,"99aed466",null);e["a"]=c.exports},"88fd":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend-bar"},[s("div",{staticClass:"recommend mt-3"},[t._m(0),s("div",{staticClass:"recommend-followers"},[s("ul",{staticClass:"recommend-followers-list"},t._l(t.recommendUsers,(function(e){return s("li",{key:e.id,staticClass:"recommend-followers-item"},[s("router-link",{staticClass:"recommend-followers-title",attrs:{to:{name:"user-profile-tweet",params:{id:e.id}}}},[s("img",{staticClass:"tweets-avatar",attrs:{src:t._f("emptyPicture")(e.avatar),alt:"avatar"}}),s("div",[s("p",{staticClass:"recommend-followers-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"recommend-followers-id"},[t._v(" "+t._s(e.account)+" ")])])]),e.isFollowed?s("button",{staticClass:"followers-item-button",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):s("button",{staticClass:"followers-item-button",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addFollowing(e.id)}}},[t._v(" 跟隨 ")])],1)})),0)]),t._m(1)])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend-title"},[s("p",[t._v("跟隨誰")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend-fotter"},[s("a",{attrs:{href:""}},[t._v("顯示更多")])])}],n=s("5530"),i=s("1da1"),o=(s("d81d"),s("96cf"),s("1602")),c=s("2fa3"),l=s("2708"),u={data:function(){return{recommendUsers:[]}},created:function(){this.fetcgRecomendUsers()},methods:{fetcgRecomendUsers:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].users.get();case 3:s=e.sent,a=s.data,t.recommendUsers=a.users,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),c["a"].fire({icon:"error",title:"暫時無法獲取推薦名單,請稍後再試"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},deleteFollowing:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].deleteFollowing({followingId:t});case 3:if(a=s.sent,r=a.data,"success"===r.status){s.next=7;break}throw new Error(r.message);case 7:e.recommendUsers=e.recommendUsers.map((function(e){return e.id!==t?e:Object(n["a"])(Object(n["a"])({},e),{},{followerCount:e.followerCount-1,isFollowed:!1})})),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),c["a"].fire({icon:"error",title:"暫時無法取消追隨,請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},addFollowing:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].addFollowing({id:t});case 3:if(a=s.sent,r=a.data,"success"===r.status){s.next=7;break}throw new Error(r.message);case 7:e.recommendUsers=e.recommendUsers.map((function(e){return e.id!==t?e:Object(n["a"])(Object(n["a"])({},e),{},{followerCount:e.followerCount+1,isFollowed:!0})})),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),c["a"].fire({icon:"error",title:"暫時無法追隨,請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()}},mixins:[l["a"]]},d=u,f=(s("20ac"),s("2877")),v=Object(f["a"])(d,a,r,!1,null,"6d73aa5c",null);e["a"]=v.exports},9291:function(t,e,s){t.exports=s.p+"img/likeIcon.5fd74e35.svg"},a7bd:function(t,e,s){},d178:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-bar"},[a("div",{staticClass:"mt-3"},[a("router-link",{staticClass:"nav-logo",attrs:{to:{name:"tweets-main"}}},[a("img",{attrs:{src:s("0eb7"),alt:""}})]),a("ul",{staticClass:"nav-list"},[a("li",{staticClass:"nav-item nav-home"},[a("router-link",{attrs:{to:{name:"tweets-main"}}},[a("i",{staticClass:"nav-icon fas fa-home"}),a("p",[t._v("首頁")])])],1),a("li",{staticClass:"nav-item nav-profile"},[a("router-link",{attrs:{to:{name:"user-profile-tweet",params:{id:t.currentUser.id}}}},[a("i",{staticClass:"nav-icon fas fa-user-alt"}),a("p",[t._v("個人資料")])])],1),a("li",{staticClass:"nav-item nav-setting"},[a("router-link",{attrs:{to:{name:"setting"}}},[a("i",{staticClass:"nav-icon fas fa-cog"}),a("p",[t._v("設定")])])],1),a("li",[a("button",{staticClass:"nav-teweet-button button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addPost(e)}}},[t._v(" 推文 ")])])]),a("router-link",{staticClass:"nav-item nav-sign-out",attrs:{to:{name:"login"}}},[a("i",{staticClass:"nav-icon fas fa-sign-out-alt",on:{click:t.logout}}),a("p",{on:{click:t.logout}},[t._v("登出")])])],1)])},r=[],n=s("5530"),i=s("2f62"),o={data:function(){return{showModal:"post"}},computed:Object(n["a"])({},Object(i["b"])(["currentUser","isAuthenticated"])),methods:{addPost:function(){this.showModal="post",this.$emit("show-post-modal",this.showModal)},logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}},c=o,l=(s("0a4e"),s("2877")),u=Object(l["a"])(c,a,r,!1,null,"19a7c5f0",null);e["a"]=u.exports},d81d:function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").map,n=s("1dde"),i=n("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e571:function(t,e,s){"use strict";s("5ce0")}}]);
//# sourceMappingURL=chunk-81fbcc94.f4fcc515.js.map