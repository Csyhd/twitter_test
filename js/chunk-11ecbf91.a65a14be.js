(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11ecbf91"],{4145:function(t,e,a){},"4bcc":function(t,e,a){},"7c25":function(t,e,a){"use strict";a("4145")},"7d03":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav-bar"},[s("div",{staticClass:"mt-3"},[s("router-link",{staticClass:"nav-logo",attrs:{to:"/admin_tweets"}},[s("img",{attrs:{src:a("0eb7"),alt:""}})]),s("ul",{staticClass:"nav-list"},[s("li",{staticClass:"nav-item nav-home"},[s("router-link",{attrs:{to:{name:"admin-tweets"}}},[s("i",{staticClass:"nav-icon fas fa-home"}),s("p",[t._v("推文清單")])])],1),s("li",{staticClass:"nav-item nav-profile"},[s("router-link",{attrs:{to:{name:"admin-users"}}},[s("i",{staticClass:"nav-icon fas fa-user-alt"}),s("p",[t._v("使用者列表")])])],1)]),t._m(0)],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-item nav-sign-out",attrs:{href:""}},[a("i",{staticClass:"nav-icon fas fa-sign-out-alt"}),a("p",[t._v("登出")])])}],r=(a("c4b5"),a("2877")),i={},c=Object(r["a"])(i,s,n,!1,null,"185581f2",null);e["a"]=c.exports},8357:function(t,e,a){},be6c:function(t,e,a){"use strict";var s=a("2fa3"),n=function(){return localStorage.getItem("token")};e["a"]={tweets:{getTweets:function(){return s["b"].get("/admin/tweets",{headers:{Authorization:"Bearer ".concat(n())}})},deleteTweets:function(t){var e=t.id;return s["b"].delete("/admin/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(n())}})}},users:{getUsers:function(){return s["b"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(n())}})}}}},c3b6:function(t,e,a){t.exports=a.p+"img/cancel.18445307.svg"},c4b5:function(t,e,a){"use strict";a("8357")},ce4a:function(t,e,a){"use strict";a("4bcc")},fa6a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-tweets"},[a("AdminNavBar"),a("div",{staticClass:"tweets-container"},[a("div",{staticClass:"tweets"},[t._m(0),a("div",{staticClass:"divider"}),a("AdminTweetCard")],1)])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tweets-title"},[a("p",[t._v("推文清單")])])}],r=a("7d03"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweet-card"},t._l(t.tweets,(function(e){return s("div",{key:e.id,staticClass:"tweet-list"},[s("div",{staticClass:"tweet"},[s("a",{staticClass:"tweet-avatar",attrs:{href:""}},[s("img",{attrs:{src:t._f("emptyPicture")(e.User.avatar),alt:"avatar"}})]),s("div",{staticClass:"tweet-content"},[s("a",{staticClass:"tweet-title",attrs:{href:""}},[s("div",{staticClass:"tweet-name"},[t._v(t._s(e.User.name))]),s("div",{staticClass:"tweet-id"},[t._v(t._s(e.User.account))]),s("span",{staticClass:"dot"}),s("div",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),s("div",{staticClass:"tweet-text"},[s("p",{staticClass:"card-text"},[t._v(" "+t._s(t._f("filterWordCount")(e.description))+" ")])]),s("div",{staticClass:"tweet-delete"},[s("a",{attrs:{href:"#"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.deleteTweets(e.id)}}},[s("img",{staticClass:"icon",attrs:{src:a("c3b6"),alt:"deleteIcon"}})])])])])])})),0)},c=[],o=a("1da1"),l=(a("4de4"),a("96cf"),a("be6c")),u=a("2fa3"),f=a("2708"),d={data:function(){return{tweets:[]}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].tweets.getTweets();case 3:if(a=e.sent,"OK"===a.statusText){e.next=6;break}throw new Error(a.statusText);case 6:t.tweets=a.data,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),u["a"].fire({icon:"error",title:"無法取得Tweets，請稍後再試"}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteTweets:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l["a"].tweets.deleteTweets({id:t});case 3:if(s=a.sent,n=s.data,console.log(t),"success"===n.status){a.next=8;break}throw new Error(n.message);case 8:e.tweets=e.tweets.filter((function(e){return e.id!==t})),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),u["a"].fire({icon:"error",title:"無法刪除tweet，請稍後再試"});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()}},mixins:[f["c"],f["a"],f["b"]]},v=d,w=(a("ce4a"),a("2877")),m=Object(w["a"])(v,i,c,!1,null,"46ffad32",null),h=m.exports,p={components:{AdminNavBar:r["a"],AdminTweetCard:h}},C=p,_=(a("7c25"),Object(w["a"])(C,s,n,!1,null,"2c7f258a",null));e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-11ecbf91.a65a14be.js.map